<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="../resources/css/info_concert.css" rel="stylesheet" type="text/css"/>
<style>
	p.formLabel{
		margin-left: 20px;
	}
	.reviewArea{
		border: 1px solid gray; 
		height: 400px; 
		padding: 10px; 
		margin: 20px;
	}
	.column{
		display:inline; 
		float:left; 
		width:700px; 
		margin-right:25px;
	}
</style>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript">
        function ImageButton1_OnClientClick(objImageButton)
        {
            var TextArea1 = document.getElementById('TextArea1');
            

            var Image1 = new Image();
            Image1.src = objImageButton.src;
            

            TextArea1.appendChild(Image1);
            return false;
        }
        
        $(function(){
        	console.log("gngngngngng");
        	$("#imgFile").change(
        			function(){
	        		// 변화가 있을 때 function을 호출한다.
	        		// 확장자 . 기준으로 다음 요소를 선택해서 소문자로 변경한 후에 ext에 저장한다.
	        		var ext = $(this).val().split('.').pop()
	        			.toLowerCase();
	        		// pop(): 배열만 취급. 
	        		// 마지막 index의 value를 pop()이 리턴
	        		// ex) $(this).val() => img.jpg
	        		// pop()하면 jpg가 리턴됨!
	        		// toLowerCase(): String을 모두 소문자로 만들어준다.
	
	        		// 추출한 확장자가 배열에 존재하는지 체크
	        		if ($.inArray(ext, [ 'gif', 'png', 'jpg', 'jpeg' ]) == -1) {
	        		// 첫번째에 있는 인자값이 두번째에 있는 배열에 있는지 확인 후, 
	        		// 있으면 1, 없으면 -1을 리턴
	        		// inArray는 jQuery에서 제공하는 메서드
	        		resetFormElement($(this)); // 폼 초기화
	        			window.alert('이미지 파일이 아닙니다. gif, png, jpg, jpeg만 업로드 가능합니다.');
	        		} else {
	        		var file = $(this).prop("files")[0];
	        		// prop에서 files라는 속성을 가져온 것
	        		// 자바스크립트의 uploadfile이 제공하는 것이 files
	        		// file 경로는 file:////경로 
	        		// 이 경로는 이미지 태그가 표현하지 못한다.
	        		blobURL = window.URL.createObjectURL(file);
	        		console.log("blobURL::::", blobURL);
	        		// 윈도우 자체에서 파일을 불러오는 경로값을 표현하려면
	        		// createObjectURL()을 사용해야 한다.
	        							
	
	        		$('#imgView').attr('src', blobURL).css(
	        				'height', '200');
	        		// attr() src 속성에  blobURL을 넣는다.
        			}
        	});
        });
    </script>
</head>
<body>
	<div class="column">
	    <form id="reviewForm" method="post">
		    <input type="hidden" name="post_concert">
		    <input type="hidden" name="post_author">
		    <input type="hidden" name="post_type" value="review">
		    <input type="hidden" name="post_sightsound">
		    <input type="hidden" name="post_facility">
		    <input type="hidden" name="post_perform">
			    <p class="formLabel"><label>제목 <input type="text" id="review_title" name="post_title"></label></p>
			    
			    <p class="formLabel"><label>공연명 <input type="text" id="review_concert" value="그랜드 민트 페스티벌" readonly="readonly"></label></p>
			    <!-- 공연명 자동으로 입력 -> 공연 상세 페이지에서 후기 작성 폼으로 넘어올 때 파라미터로 공연 이름을 넘겨줘서 text에 넣어줌 -->
			    
			    <p class="formLabel"><label>장소 <input type="text" id="review_venue" value="올림픽공원" readonly="readonly"></label></p>
			    <!-- 공연장 자동으로 입력 -> 공연 상세 페이지에서 후기 작성 폼으로 넘어올 때 파라미터로 공연장 이름을 넘겨줘서 text에 넣어줌 -->
			    
			    <p class="formLabel"><label>관람일 <input type="date" max="2015-11-08" min="2015-11-04" id="review_concertdate" name="post_concertdate"></label></p>
			    <!-- date의 min/max 값 설정 -> 후기 작성 폼으로 넘어올 때 파라미터로 공연의 startdate/enddate를 넘겨준 후, min 속성에 startdate/max 속성에 enddate 넣음 -->
			    
			    <p class="formLabel"><label>좌석 <input type="text" id="review_seat" name="post_seat"></label></p>
			    <div id="review_sightsound">
			    	<p class="formLabel">공연장 시야 및 음향</p>
			        <div contentEditable="true" class="reviewArea">
			        <!-- 스크롤, 파일 선택 부분 고정 -->
			        	<p>dd</p>
			        	<img id="imgView">
			        	<img id="imgView2">
			        	<p><input type="file" id="imgFile"></p>
			        </div>
			    </div>
			    <div id="review_facility">
			   		<p class="formLabel">공연장 시설</p>
			        <div contentEditable="true" class="reviewArea">
			        	<p>dd</p>
			        	<img id="imgView">
			        	<img id="imgView2">
			        	<p><input type="file" id="imgFile"></p>
			        </div>
			    </div>
			    <div id="review_peform">
			    	<p class="formLabel">공연 내용</p>
			        <div contentEditable="true" class="reviewArea">
			        	<p>dd</p>
			        	<img id="imgView">
			        	<img id="imgView2">
			        	<p><input type="file" id="imgFile"></p>
			        </div>
			    </div>
	    </form>
	</div>
	<div class="column">
		<p class="formLabel">세트리스트</p>
<!-- 			<div class="contentView" id="concertSetList"> -->
            	<Table id="table_setList">
                    <tr class="tr_setList">
                        <th class="setListNum"><p>순서</p></th>
                        <th class="setListTitle"><p>곡 제목</p></th>
                        <th class="setListLink"><p>링크</p></th>
                    </tr>
                    <tr class="tr_setList">
                        <td class="setListNum"><p>1</p></td>
                        <td class="setListTitle"><p>aaa</p></td>
                        <td class="setListLink"><p></p></td>
                    </tr>
                    <tr class="tr_setList">
                        <td class="setListNum"><p>2</p></td>
                        <td class="setListTitle"><p>bbb</p></td>
                        <td class="setListLink"><p></p></td>
                    </tr>
                    <tr class="tr_setList">
                        <td class="setListNum"><p>3</p></td>
                        <td class="setListTitle"><p>bbb</p></td>
                        <td class="setListLink"><p></p></td>
                    </tr>
                    <tr class="tr_setList">
                        <td class="setListNum"><p>4</p></td>
                        <td class="setListTitle"><p>bbb</p></td>
                        <td class="setListLink"><p></p></td>
                    </tr>
                    <tr class="tr_setList">
                        <td class="setListNum"><p>5</p></td>
                        <td class="setListTitle"><p>bbb</p></td>
                        <td class="setListLink"><p></p></td>
                    </tr>
                    
                  
                </Table>
<!--             </div> -->
	</div>
</body>
</html>
